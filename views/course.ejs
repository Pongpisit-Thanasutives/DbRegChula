<%- include('common/view_start', {
  title: 'Course',
  cssFiles: ['common'],
  externalCSSURLs: ['https://cdn.datatables.net/1.10.13/css/dataTables.bootstrap.min.css'],
  navBarLocation: 'course'
}) %>

<%- include('common/header', {
  heading: 'Course',
  subheading: 'รายละเอียดแต่ละวิชา',
  breadcrumb: [
    'Course'
  ]
}) %>

<div class="container">
  <div class="row">
    <div class="col-md-4">
      <div class="search-box">
        <h3>Search</h3>
        <form method="GET" action="">
          <div class="form-group">
              <label for="course_id">Course ID</label>
              <input type="text" class="form-control" id="course_id" name="cid" placeholder="e.g. 2110200">
              <label for="course_name">Course Name</label>
              <input type="text" class="form-control" id="shortname" name="shortname" placeholder="e.g. DISCRETE STRUC">
              <label for="course_semester">Semester</label>
              <select id="semester" class="form-control" name="semester">
                <option value="2018/2">2018/2</option>
                <option value="2018/1" selected="selected">2018/1</option>
                <option value="2017/2">2017/2</option>
                <option value="2017/1">2017/1</option>
                <option value="2016/2">2016/2</option>
                <option value="2016/1">2016/1</option>
              </select>
              <input type="text" class="dropdown-menu" id="semester" name="semester" placeholder="2018/1">
          </div>
          <button type="submit" class="btn btn-primary">Search</button>
        </form>
      </div>
      <% if(data.length > 0) {%>
      <div class="list-group">
          <% for(let i = 0; i < data.length; i++) {%>
            <% if(i==0) {%>
              <a href="#" class="list-group-item active"  data-courseno="<%= data[i].ID %>" data-year="<%= year %>" data-sem="<%= sem %>"><%= data[i].ID %>	<%= data[i].Initial %></a>
            <% } else { %>
              <a href="#" class="list-group-item" data-courseno="<%= data[i].ID %>" data-year="<%= year %>" data-sem="<%= sem %>"><%= data[i].ID %>	<%= data[i].Initial %></a>
            <% } %>
          <% } %>
      </div>
      <% } %>
    </div>
    <div class="col-md-8">
      <div class="col-xs-12">
        <% if(data.length > 0) {%>
        <h1 id="title"> </h1>
        <hr>
        <table class="table table-bordered">
            <tbody>
              <tr>
                <td class="course_title col-md-2"><b>วิชา</b></td>
                <td class="course_detail" id="name_en"></td>
              </tr>
              <tr>
                <td class="course_title"><b>หน่วยกิต</b></td>
                <td class="course_detail" id="creditset"></td>
              </tr>
              <tr>
                <td class="course_title"><b>วิชาที่ต้องเรียนมาก่อน</b></td>
                <td class="course_detail" id="prerequisite"></td>
              </tr>
              <tr>
                <td class="course_title"><b>วันสอบกลางภาค</b></td>
                <td class="course_detail" id="midexamdate"></td>
              </tr>
              <tr>
                <td class="course_title"><b>เวลาสอบกลางภาค</b></td>
                <td class="course_detail" id="midexamtime"></td>
              </tr>
              <tr>
                <td class="course_title"><b>วันสอบปลายภาค</b></td>
                <td class="course_detail" id="examdate"></td>
              </tr>
              <tr>
                <td class="course_title"><b>เวลาสอบปลายภาค</b></td>
                <td class="course_detail" id="examtime"></td>
              </tr>
            </tbody>
        </table>
        <h4>Course Section(s)</h4>
          <div id = "sections"></div>
          <% } else {%>
            <h1>ไม่พบข้อมูล</h1>
          <% } %>
      </div>
    </div>
  </div>
</div>

<%- include('common/view_end', {
  jsFiles: ['course'],
  externalJSURLs: [
    'https://cdn.datatables.net/1.10.13/js/jquery.dataTables.min.js',
    'https://cdn.datatables.net/1.10.13/js/dataTables.bootstrap.min.js'
  ]
}) %>
